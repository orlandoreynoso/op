var gulp=require("gulp"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),browserSync=require("browser-sync").create(),reload=browserSync.reload,sass=require("gulp-sass");const autoprefixer=require("gulp-autoprefixer");gulp.task("tareaMinify",function(){return console.log("minifiando js con tarea: tareaMinify"),gulp.src("./incjs/*.js").pipe(concat("all.js")).pipe(uglify({compress:{drop_console:!0}})).pipe(gulp.dest("./js"))}),gulp.task("prefix",()=>{gulp.src("sass/estilo.sass").pipe(autoprefixer({browsers:["last 2 versions"],cascade:!1})).pipe(sass({includePaths:["sass"]})).pipe(gulp.dest("css"))}),gulp.task("cssTarea",function(){console.log("css tarea en accion")}),gulp.task("browser-sync",function(done){var files=["*.php,css","/*.css","./css/estilo.css","./css/frontpage.css","./*.php","./template/*.php","./inc/*.php","./inc/*.js","libs/*.php","./incjs/*.js","./*.js","./woocommerce/*.php","./opincludes/*.php","./opincludes/*.js"];browserSync.init(files,{proxy:"localhost/orden/",notify:!1}),gulp.watch(files).on("change",browserSync.reload)}),gulp.task("sass",function(){return gulp.src("./sass/**/*.sass").pipe(sass().on("error",sass.logError)).pipe(gulp.dest("./css"))}),gulp.task("sass:watch",function(){gulp.watch("./sass/**/*.sass",["sass"])}),gulp.task("sass",function(){return gulp.src("./sass/estilo.sass,./sass/frontpage.sass").pipe(sass().on("error",sass.logError)).pipe(gulp.dest("./css")).pipe(browserSync.stream())}),gulp.task("watchMeJs",function(){gulp.watch("./js/*.js",["tareaMinify"],function(){console.log("escucuando cambios js...")})}),gulp.task("default",["browser-sync","watchMeJs","sass:watch","sass","prefix"],function(done){console.log("ejecutando watch wuju...."),browserSync.reload(),done()});